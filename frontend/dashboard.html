<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dashboard - ManabiGames</title>
  
  <!-- Fuentes Google -->
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@500;700&family=Share+Tech+Mono&display=swap" rel="stylesheet">
  
  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>
  
  <!-- Chart.js -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
  
  <style>
    body {
      background-color: #0a0a0a;
      font-family: 'Share Tech Mono', monospace;
      background-image:
        radial-gradient(#222 1px, transparent 1px),
        linear-gradient(to bottom, #0a0a0a, #0a0a0a);
      background-size: 40px 40px;
    }
    
    h1, h2, h3 {
      font-family: 'Orbitron', sans-serif;
    }
    
    .neon {
      text-shadow: 0 0 5px #ff2e9d, 0 0 10px #ff2e9d, 0 0 20px #ff2e9d;
      color: #ff2e9d;
    }
    
    .card-hover {
      transition: all 0.3s ease;
    }
    
    .card-hover:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 20px rgba(255, 46, 157, 0.3);
    }
    
    .stat-card {
      background: linear-gradient(135deg, #1a1a1a 0%, #2a2a2a 100%);
      border: 1px solid #6c63ff;
    }
    
    .download-section {
      background: linear-gradient(135deg, #6c63ff 0%, #ff2e9d 100%);
      border-radius: 20px;
      padding: 2rem;
      margin: 2rem 0;
    }

    /* Icono de placeholder cuando no hay logo */
    .logo-placeholder {
      width: 48px;
      height: 48px;
      background: linear-gradient(45deg, #6c63ff, #ff2e9d);
      border-radius: 8px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 24px;
    }
  </style>
</head>

<body class="min-h-screen text-white">
  <!-- Header -->
  <header class="bg-[#0a0a0a] p-4 flex justify-between items-center border-b border-[#6c63ff]">
    <div class="flex items-center gap-3">
      <!-- Logo con fallback -->
      <div class="logo-placeholder">üéÆ</div>
      <h1 class="text-3xl neon">ManabiGames Dashboard</h1>
    </div>
    <nav class="space-x-6 text-[#00ffcc]">
      <a href="index.html" class="hover:underline cursor-pointer">Inicio</a>
      <a href="dashboard.html"  class="hover:underline cursor-pointer">Dashboard</a>
      <a href="formulario.html"  class="hover:underline cursor-pointer">Formulario</a>
    </nav>
  </header>

  <!-- Secci√≥n de Descarga del Emulador -->
  <section class="p-6 max-w-6xl mx-auto">
    <div class="download-section text-center">
      <h2 class="text-4xl font-bold text-white mb-4">üéÆ Descarga Nuestro Emulador</h2>
      <p class="text-xl text-white mb-6">Juega miles de juegos retro directamente en tu dispositivo</p>
      <button onclick="downloadEmulator()" class="bg-white text-[#6c63ff] px-8 py-3 rounded-full font-bold text-lg hover:bg-gray-200 transition-colors">
        Descargar Emulador
      </button>
      <p class="text-sm text-white mt-4 opacity-80">Compatible con Windows, Mac y Linux</p>
    </div>
  </section>

  <!-- Estad√≠sticas Principales -->
  <section class="p-6 max-w-6xl mx-auto">
    <h2 class="text-3xl neon mb-6">Estad√≠sticas Generales</h2>
    <div class="grid grid-cols-1 md:grid-cols-4 gap-6 mb-8">
      <!-- Total Juegos -->
      <div class="stat-card card-hover rounded-xl p-6 text-center">
        <div class="text-4xl mb-2">üéÆ</div>
        <h3 class="text-xl font-bold text-[#00ffcc]">Total Juegos</h3>
        <p class="text-3xl font-bold neon" id="totalJuegos">0</p>
      </div>
      
      <!-- Total Rese√±as -->
      <div class="stat-card card-hover rounded-xl p-6 text-center">
        <div class="text-4xl mb-2">‚≠ê</div>
        <h3 class="text-xl font-bold text-[#00ffcc]">Total Rese√±as</h3>
        <p class="text-3xl font-bold neon" id="totalResenas">0</p>
      </div>
      
      <!-- Usuarios Online -->
      <div class="stat-card card-hover rounded-xl p-6 text-center">
        <div class="text-4xl mb-2">üë•</div>
        <h3 class="text-xl font-bold text-[#00ffcc]">Usuarios Online</h3>
        <p class="text-3xl font-bold neon" id="usuariosOnline">0</p>
      </div>
      
      <!-- Rating Promedio -->
      <div class="stat-card card-hover rounded-xl p-6 text-center">
        <div class="text-4xl mb-2">üåü</div>
        <h3 class="text-xl font-bold text-[#00ffcc]">Rating Promedio</h3>
        <p class="text-3xl font-bold neon" id="ratingPromedio">0.0</p>
      </div>
    </div>
  </section>

  <!-- Gr√°ficos -->
  <section class="p-6 max-w-6xl mx-auto">
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
      <!-- Gr√°fico de Juegos M√°s Vistos -->
      <div class="stat-card rounded-xl p-6">
        <h3 class="text-2xl neon mb-4">üî• Juegos M√°s Vistos</h3>
        <div class="h-80">
          <canvas id="chartVistos"></canvas>
        </div>
      </div>
      
      <!-- Gr√°fico de Mejores Rese√±as -->
      <div class="stat-card rounded-xl p-6">
        <h3 class="text-2xl neon mb-4">‚≠ê Mejores Rese√±as</h3>
        <div class="h-80">
          <canvas id="chartRese√±as"></canvas>
        </div>
      </div>
    </div>
  </section>

  <!-- Rese√±as Recientes -->
  <section class="p-6 max-w-6xl mx-auto">
    <h2 class="text-3xl neon mb-6">üìù Rese√±as Recientes</h2>
    <div class="stat-card rounded-xl p-6">
      <div id="resenasRecientes" class="space-y-4">
        <!-- Se llenar√°n din√°micamente -->
      </div>
    </div>
  </section>

  <!-- Juegos Populares -->
  <section class="p-6 max-w-6xl mx-auto">
    <h2 class="text-3xl neon mb-6">üèÜ Top Juegos</h2>
    <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
      <!-- M√°s Vistos -->
      <div class="stat-card rounded-xl p-6">
        <h3 class="text-xl font-bold text-[#00ffcc] mb-4">M√°s Vistos</h3>
        <div id="juegosMasVistos" class="space-y-3">
          <!-- Se llenar√°n din√°micamente -->
        </div>
      </div>
      
      <!-- Mejor Rankeados -->
      <div class="stat-card rounded-xl p-6">
        <h3 class="text-xl font-bold text-[#00ffcc] mb-4">Mejor Rankeados</h3>
        <div id="juegosMejorRankeados" class="space-y-3">
          <!-- Se llenar√°n din√°micamente -->
        </div>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="bg-[#0a0a0a] border-t border-[#6c63ff] text-center p-4 text-sm text-[#9d00ff] mt-12">
    Dashboard ManabiGames - Datos actualizados en tiempo real üöÄ
  </footer>

  <script>
    // Funci√≥n para navegar entre p√°ginas
    function goToPage(page) {
      console.log(`Navegando a: ${page}`);
      // Aqu√≠ puedes agregar la l√≥gica real de navegaci√≥n
      alert(`Navegando a: ${page}`);
    }

    // Funci√≥n para descargar emulador
    function downloadEmulator() {
      alert('¬°Descarga iniciada! (Esta es una funci√≥n de ejemplo)');
    }

    // Configuraci√≥n base para los gr√°ficos
    const chartConfig = {
      responsive: true,
      maintainAspectRatio: false,
      plugins: {
        legend: {
          labels: {
            color: '#00ffcc'
          }
        }
      },
      scales: {
        y: {
          ticks: {
            color: '#00ffcc'
          },
          grid: {
            color: '#333'
          }
        },
        x: {
          ticks: {
            color: '#00ffcc'
          },
          grid: {
            color: '#333'
          }
        }
      }
    };

    // Datos de ejemplo
    const datosEjemplo = {
      totalJuegos: 1250,
      totalResenas: 3420,
      usuariosOnline: 127,
      ratingPromedio: 4.2,
      juegosMasVistos: [
        { nombre: "Zelda: Link's Awakening", visualizaciones: 1520 },
        { nombre: "Super Metroid", visualizaciones: 1340 },
        { nombre: "Chrono Trigger", visualizaciones: 1280 },
        { nombre: "Final Fantasy VI", visualizaciones: 1150 },
        { nombre: "Super Mario World", visualizaciones: 1090 }
      ],
      juegosMejorRankeados: [
        { nombre: "Chrono Trigger", rating: 4.9 },
        { nombre: "Super Metroid", rating: 4.8 },
        { nombre: "Final Fantasy VI", rating: 4.7 },
        { nombre: "Zelda: A Link to the Past", rating: 4.6 },
        { nombre: "Super Mario World", rating: 4.5 }
      ],
      resenasRecientes: [
        { usuario: "RetroGamer92", juego: "Chrono Trigger", rating: 5, comentario: "¬°Obra maestra absoluta! La historia es incre√≠ble.", fecha: "2025-07-02" },
        { usuario: "NostalgicPlayer", juego: "Super Metroid", rating: 4, comentario: "Atm√≥sfera perfecta y jugabilidad fluida.", fecha: "2025-07-02" },
        { usuario: "ClassicFan", juego: "Final Fantasy VI", rating: 5, comentario: "El mejor RPG de la era 16-bit.", fecha: "2025-07-01" },
        { usuario: "PixelMaster", juego: "Super Mario World", rating: 4, comentario: "Diversi√≥n pura y controladores perfectos.", fecha: "2025-07-01" }
      ]
    };

    // Funci√≥n para cargar estad√≠sticas
    function cargarEstadisticas() {
      const elementos = {
        totalJuegos: document.getElementById('totalJuegos'),
        totalResenas: document.getElementById('totalResenas'),
        usuariosOnline: document.getElementById('usuariosOnline'),
        ratingPromedio: document.getElementById('ratingPromedio')
      };

      // Verificar que los elementos existan
      if (elementos.totalJuegos) elementos.totalJuegos.textContent = datosEjemplo.totalJuegos.toLocaleString();
      if (elementos.totalResenas) elementos.totalResenas.textContent = datosEjemplo.totalResenas.toLocaleString();
      if (elementos.usuariosOnline) elementos.usuariosOnline.textContent = datosEjemplo.usuariosOnline.toLocaleString();
      if (elementos.ratingPromedio) elementos.ratingPromedio.textContent = datosEjemplo.ratingPromedio.toFixed(1);
    }

    // Funci√≥n para crear gr√°fico de juegos m√°s vistos
    function crearGraficoVistos() {
      const ctx = document.getElementById('chartVistos');
      if (!ctx) return;

      new Chart(ctx, {
        type: 'bar',
        data: {
          labels: datosEjemplo.juegosMasVistos.map(j => j.nombre),
          datasets: [{
            label: 'Visualizaciones',
            data: datosEjemplo.juegosMasVistos.map(j => j.visualizaciones),
            backgroundColor: '#ff2e9d',
            borderColor: '#ff2e9d',
            borderWidth: 1
          }]
        },
        options: chartConfig
      });
    }

    // Funci√≥n para crear gr√°fico de mejores rese√±as
    function crearGraficoRese√±as() {
      const ctx = document.getElementById('chartRese√±as');
      if (!ctx) return;

      new Chart(ctx, {
        type: 'doughnut',
        data: {
          labels: datosEjemplo.juegosMejorRankeados.map(j => j.nombre),
          datasets: [{
            label: 'Rating',
            data: datosEjemplo.juegosMejorRankeados.map(j => j.rating),
            backgroundColor: [
              '#ff2e9d',
              '#00ffcc',
              '#6c63ff',
              '#9d00ff',
              '#ffcc00'
            ],
            borderWidth: 2,
            borderColor: '#0a0a0a'
          }]
        },
        options: {
          ...chartConfig,
          scales: {} // Doughnut no necesita escalas
        }
      });
    }

    // Funci√≥n para mostrar rese√±as recientes
    function mostrarResenasRecientes() {
      const container = document.getElementById('resenasRecientes');
      if (!container) return;

      container.innerHTML = '';
      
      datosEjemplo.resenasRecientes.forEach(resena => {
        const estrellas = '‚≠ê'.repeat(resena.rating);
        const resenaHTML = `
          <div class="bg-[#2a2a2a] rounded-lg p-4 border-l-4 border-[#00ffcc]">
            <div class="flex justify-between items-start mb-2">
              <h4 class="font-bold text-[#ff2e9d]">${resena.usuario}</h4>
              <span class="text-sm text-gray-400">${resena.fecha}</span>
            </div>
            <p class="text-[#00ffcc] font-semibold">${resena.juego}</p>
            <p class="text-yellow-400 text-lg">${estrellas}</p>
            <p class="text-white mt-2">${resena.comentario}</p>
          </div>
        `;
        container.innerHTML += resenaHTML;
      });
    }

    // Funci√≥n para mostrar juegos populares
    function mostrarJuegosPopulares() {
      // Juegos m√°s vistos
      const containerVistos = document.getElementById('juegosMasVistos');
      if (containerVistos) {
        containerVistos.innerHTML = '';
        
        datosEjemplo.juegosMasVistos.forEach((juego, index) => {
          const juegoHTML = `
            <div class="flex justify-between items-center p-3 bg-[#2a2a2a] rounded-lg">
              <div class="flex items-center gap-3">
                <span class="text-[#ff2e9d] font-bold text-lg">#${index + 1}</span>
                <span class="text-white">${juego.nombre}</span>
              </div>
              <span class="text-[#00ffcc] font-semibold">${juego.visualizaciones.toLocaleString()}</span>
            </div>
          `;
          containerVistos.innerHTML += juegoHTML;
        });
      }

      // Juegos mejor rankeados
      const containerRankeados = document.getElementById('juegosMejorRankeados');
      if (containerRankeados) {
        containerRankeados.innerHTML = '';
        
        datosEjemplo.juegosMejorRankeados.forEach((juego, index) => {
          const juegoHTML = `
            <div class="flex justify-between items-center p-3 bg-[#2a2a2a] rounded-lg">
              <div class="flex items-center gap-3">
                <span class="text-[#ff2e9d] font-bold text-lg">#${index + 1}</span>
                <span class="text-white">${juego.nombre}</span>
              </div>
              <span class="text-yellow-400 font-semibold">${juego.rating}‚≠ê</span>
            </div>
          `;
          containerRankeados.innerHTML += juegoHTML;
        });
      }
    }

    // Funci√≥n para simular actualizaci√≥n de usuarios online
    function actualizarUsuariosOnline() {
      setInterval(() => {
        const variacion = Math.floor(Math.random() * 21) - 10; // -10 a +10
        const nuevosUsuarios = Math.max(50, datosEjemplo.usuariosOnline + variacion);
        datosEjemplo.usuariosOnline = nuevosUsuarios;
        
        const elemento = document.getElementById('usuariosOnline');
        if (elemento) {
          elemento.textContent = nuevosUsuarios.toLocaleString();
        }
      }, 5000); // Actualiza cada 5 segundos
    }

    // Funci√≥n para simular datos en tiempo real
    function simularDatosBackend() {
      try {
        console.log('Inicializando dashboard...');
        
        cargarEstadisticas();
        crearGraficoVistos();
        crearGraficoRese√±as();
        mostrarResenasRecientes();
        mostrarJuegosPopulares();
        actualizarUsuariosOnline();
        
        console.log('Dashboard cargado exitosamente');
      } catch (error) {
        console.error('Error al cargar datos:', error);
      }
    }

    // Inicializar dashboard cuando el DOM est√© listo
    document.addEventListener('DOMContentLoaded', () => {
      console.log('DOM cargado, iniciando dashboard...');
      simularDatosBackend();
    });

    // Fallback por si hay problemas con DOMContentLoaded
    window.addEventListener('load', () => {
      console.log('Ventana cargada completamente');
      // Solo ejecutar si no se ha inicializado ya
      if (!document.getElementById('totalJuegos').textContent || document.getElementById('totalJuegos').textContent === '0') {
        simularDatosBackend();
      }
    });
  </script>
</body>
</html>